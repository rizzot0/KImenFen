<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:clth="http://www.w3.org/1999/xhtml">
<head>
    <title>Lista de Alumnos</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
<div class="w-full bg-yellow-700 p-5 flex flex-col justify-between text-yellow-400 rounded">
    <h1 class="text-2xl font-bold">Lista de Alumnos</h1>
    <table>
        <thead>
        <tr>
            <th class="text-xl border border-black">ID</th>
            <th class="text-xl px-1 border border-black">Nombre</th>
            <th class="text-xl px-1 border border-black">Apellido Paterno</th>
            <th class="text-xl px-1 border border-black">Apellido Materno</th>
            <th class="text-xl px-1 border border-black">RUT</th>
            <th class="text-xl px-1 border border-black">Teléfono Apoderado</th>
            <th class="text-xl px-1 border border-black">Dirección</th>
            <th class="text-xl px-1 border border-black">Curso</th>
            <th class="text-xl px-1 border border-black">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr class="bg-white w-full border border-black" th:each="alumno : ${alumnos}">
            <td class="border border-black" th:text="${alumno.id}"></td>
            <td class="border border-black" th:text="${alumno.nombre}"></td>
            <td class="border border-black" th:text="${alumno.apellidoPaterno}"></td>
            <td class="border border-black" th:text="${alumno.apellidoMaterno}"></td>
            <td class="border border-black" th:text="${alumno.rut}"></td>
            <td class="border border-black" th:text="${alumno.telefonoApoderado}"></td>
            <td class="border border-black" th:text="${alumno.direccion}"></td>
            <td class="border border-black" th:text="${alumno.curso}"></td>
            <td class="bg-yellow-800 w-full">
                <a class="text-blue-300 hover:text-blue-600 underline rounded cursor-pointer px-1 editar-alumno" th:if="${rol == 'ROLE_ADMIN'}" href="#" th:attr="data-id=${alumno.id}">Editar</a>
                <a class="text-blue-300 hover:text-blue-600 underline rounded cursor-pointer px-1" th:if="${rol == 'ROLE_ADMIN'}" th:href="@{/administrador/eliminar-alumno/{id}(id=${alumno.id})}">Eliminar</a>

                <div th:if="${rol == 'ROLE_ADMIN' or rol == 'ROLE_PROFESOR'}">
                    <a class="text-blue-300 hover:text-blue-600 underline rounded cursor-pointer px-1 agregar-registro" href="#" th:attr="data-id=${alumno.id},data-rol=${rol}">Agregar Registro de vida</a>
                </div>

                <a class="py-2 px-4 my-2 text-blue-300 hover:text-blue-600 underline rounded cursor-pointer px-1 ver-registro" th:if="${rol == 'ROLE_ADMIN' or rol == 'ROLE_PROFESOR' or rol == 'ROLE_APODERADO'}"  th:attr="data-id=${alumno.id}">Ver Registro de vida</a>
                <a class="py-2 px-4 my-2 text-blue-300 hover:text-blue-600 underline rounded cursor-pointer px-1 ver-notas" th:if="${rol == 'ROLE_ADMIN' or rol == 'ROLE_PROFESOR' or rol == 'ROLE_APODERADO'}"  th:attr="data-id=${alumno.id}">Ver Notas</a>
                <a class="text-blue-300 hover:text-blue-600 underline rounded cursor-pointer px-1 agregar-nota" th:if="${rol == 'ROLE_ADMIN' or rol == 'ROLE_PROFESOR'}" th:attr="data-id=${alumno.id}">Agregar Nota</a>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
